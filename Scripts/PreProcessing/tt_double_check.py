import numpy as np
import os

def verify_npy_normalization(file_path):
    """
    ì§€ì •ëœ .npy íŒŒì¼ì´ 0ê³¼ 1 ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ ì •ê·œí™”ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
    """
    if not os.path.exists(file_path):
        print(f"âŒ ì˜¤ë¥˜: íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê²½ë¡œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”: {file_path}")
        return

    try:
        # ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        data = np.load(file_path)
        print(f"âœ… íŒŒì¼ ë¡œë“œ ì„±ê³µ: {file_path}")
        print(f"ë°ì´í„° í˜•íƒœ (shape): {data.shape}")

        # ì „ì²´ ë°ì´í„°ì—ì„œ ìµœì†Ÿê°’ê³¼ ìµœëŒ“ê°’ ì°¾ê¸°
        min_val = np.min(data)
        max_val = np.max(data)

        print("\n--- ğŸ”¬ ì •ê·œí™” ê²€ì¦ ê²°ê³¼ ---")
        print(f"ìµœì†Ÿê°’: {min_val:.6f}")
        print(f"ìµœëŒ“ê°’: {max_val:.6f}")
        
        # ê²€ì¦
        if 0.0 <= min_val <= 1.0 and 0.0 <= max_val <= 1.0:
            # ë¶€ë™ì†Œìˆ˜ì  ì˜¤ì°¨ë¥¼ ê³ ë ¤í•˜ì—¬ 0ê³¼ 1ì— ë§¤ìš° ê°€ê¹Œìš´ì§€ë„ í™•ì¸
            if np.isclose(min_val, 0.0) and np.isclose(max_val, 1.0):
                 print("\nğŸ‘ í›Œë¥­í•©ë‹ˆë‹¤! ë°ì´í„°ê°€ 0ê³¼ 1 ì‚¬ì´ë¡œ ì™„ë²½í•˜ê²Œ ì •ê·œí™”ë˜ì—ˆìŠµë‹ˆë‹¤.")
            else:
                 print("\nğŸ‘ ì¢‹ìŠµë‹ˆë‹¤. ëª¨ë“  ë°ì´í„°ê°€ 0ê³¼ 1 ì‚¬ì´ì˜ ë²”ìœ„ ì•ˆì— ìˆìŠµë‹ˆë‹¤.")
        else:
            print("\nâš ï¸ ê²½ê³ : ë°ì´í„°ê°€ 0ê³¼ 1ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤. ì „ì²˜ë¦¬ ê³¼ì •ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.")
        print("--------------------------")

    except Exception as e:
        print(f"âŒ ì˜¤ë¥˜ ë°œìƒ: ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. {e}")

if __name__ == "__main__":
    # --- âš ï¸ ì—¬ê¸°ì— í™•ì¸í•˜ê³  ì‹¶ì€ .npy íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš” ---
    # ì˜ˆì‹œ: "results/preprocessed_data_20250716_183000.npy"
    target_file = input("ê²€ì¦í•  .npy íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”: ")
    
    verify_npy_normalization(target_file)